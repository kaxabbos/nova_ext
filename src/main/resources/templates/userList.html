<!DOCTYPE HTML>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>NOVA - Профиль</title>
    <link rel="stylesheet" href="/static/login_reg_profile_style.css">
</head>

<head th:insert="blocks\head :: head"></head>

<body class="d-flex flex-column h-100">

<header th:insert="blocks\header :: header" class="sticky-top" role="navigation"></header>

<hr class="clear">

<main class="container flex-shrink-0 bg-light form-signin">
    <div class="pt-5 pb-3">
        <center>
            <img class="mb-4" src="/img/nova_logo.png" alt="NOVA">
        </center>
    </div>
    <center>
        <h2>Обновить данные профилей</h2>
        <div class="row" style="margin-bottom: 5px">
            <div class="col">
                <span>Имя</span>
            </div>
            <div class="col">
                <span>Пароль</span>
            </div>
            <div class="col">
                <span>Роль</span>
            </div>
            <div class="col"></div>
            <div class="col"></div>
        </div>
        <div th:each="user : ${users}" class="row ">
            <div class="col">
                <form th:action="'/userList/' + ${user.id} + '/edit'"
                      method="post" style="margin-bottom: 5px">
                    <div class="row">
                        <div class="col">
                            <input class="form-control" th:value="${user.username}" name="username"/>
                        </div>
                        <div class="col">
                            <input class="form-control" th:value="${user.password}" name="password"/>
                        </div>
                        <div class="col">
                            <select class="form-control" name="role">
                                <option th:each="r : ${roles}" th:value="${r}" th:label="${r.name}"
                                        th:selected="${r == user.role}"></option>
                            </select>
                        </div>
                        <div class="col">
                            <button class="btn form-control btn-primary" type="submit">Обновить</button>
                        </div>
                        <div class="col">
                            <a class="form-control btn btn-danger" type="submit" role="button"
                               th:href="'/userList/' + ${user.id} + '/delete'">Удалить</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div th:if="${message}" class="col-lg-12 w-100 alert alert-primary" role="alert">
            <p th:text="${message}"></p>
        </div>
    </center>
</main>

<hr class="clear">

<footer th:insert="blocks/footer :: footer" class="footer mt-auto py-1 bg-dark"></footer>

</body>

</html>
